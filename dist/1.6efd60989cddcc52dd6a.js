webpackJsonp([1],{420:function(t,e,i){function r(t){i(442)}var a=i(101)(i(439),i(449),r,"data-v-81696c6e",null);t.exports=a.exports},421:function(t,e,i){function r(t){i(427)}var a=i(101)(i(425),i(430),r,"data-v-b5e8ab26",null);t.exports=a.exports},422:function(t,e,i){e=t.exports=i(416)(!1),e.push([t.i,'.sk-fading-circle[data-v-48749c38]{width:40px;height:40px;position:relative}.sk-fading-circle .sk-circle[data-v-48749c38]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle[data-v-48749c38]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#fff;border-radius:100%;animation:sk-circleFadeDelay-data-v-48749c38 1.2s infinite ease-in-out both}.sk-fading-circle .sk-circle2[data-v-48749c38]{transform:rotate(30deg)}.sk-fading-circle .sk-circle3[data-v-48749c38]{transform:rotate(60deg)}.sk-fading-circle .sk-circle4[data-v-48749c38]{transform:rotate(90deg)}.sk-fading-circle .sk-circle5[data-v-48749c38]{transform:rotate(120deg)}.sk-fading-circle .sk-circle6[data-v-48749c38]{transform:rotate(150deg)}.sk-fading-circle .sk-circle7[data-v-48749c38]{transform:rotate(180deg)}.sk-fading-circle .sk-circle8[data-v-48749c38]{transform:rotate(210deg)}.sk-fading-circle .sk-circle9[data-v-48749c38]{transform:rotate(240deg)}.sk-fading-circle .sk-circle10[data-v-48749c38]{transform:rotate(270deg)}.sk-fading-circle .sk-circle11[data-v-48749c38]{transform:rotate(300deg)}.sk-fading-circle .sk-circle12[data-v-48749c38]{transform:rotate(330deg)}.sk-fading-circle .sk-circle2[data-v-48749c38]:before{animation-delay:-1.1s}.sk-fading-circle .sk-circle3[data-v-48749c38]:before{animation-delay:-1s}.sk-fading-circle .sk-circle4[data-v-48749c38]:before{animation-delay:-.9s}.sk-fading-circle .sk-circle5[data-v-48749c38]:before{animation-delay:-.8s}.sk-fading-circle .sk-circle6[data-v-48749c38]:before{animation-delay:-.7s}.sk-fading-circle .sk-circle7[data-v-48749c38]:before{animation-delay:-.6s}.sk-fading-circle .sk-circle8[data-v-48749c38]:before{animation-delay:-.5s}.sk-fading-circle .sk-circle9[data-v-48749c38]:before{animation-delay:-.4s}.sk-fading-circle .sk-circle10[data-v-48749c38]:before{animation-delay:-.3s}.sk-fading-circle .sk-circle11[data-v-48749c38]:before{animation-delay:-.2s}.sk-fading-circle .sk-circle12[data-v-48749c38]:before{animation-delay:-.1s}@keyframes sk-circleFadeDelay-data-v-48749c38{0%,39%,to{opacity:0}40%{opacity:1}}',""])},423:function(t,e,i){e=t.exports=i(416)(!1),e.push([t.i,"@keyframes spinAround-data-v-b5e8ab26{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.thumb[data-v-b5e8ab26]{width:calc(33% - 8px);min-width:180px;max-width:360px;border-radius:8px;margin:15px 5px;box-shadow:0 0 6px 2px #320763;overflow:hidden}.thumb h2[data-v-b5e8ab26]{width:100%;z-index:2}.thumb .top[data-v-b5e8ab26]{background:#333;color:#ccc;-ms-flex-pack:justify;justify-content:space-between}.thumb .top p[data-v-b5e8ab26]{padding:0 5px;white-space:nowrap}.thumb .top .p[data-v-b5e8ab26]{background:#320763;padding:5px 35px 5px 25px;border-top-right-radius:15px;border-bottom-right-radius:15px}.thumb .title[data-v-b5e8ab26]{background:#320763;padding:4px;color:#fff;font-size:13px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.thumb .bg[data-v-b5e8ab26]{width:100%;margin:-9% 0;z-index:1;min-height:150px}.thumb video[data-v-b5e8ab26]{width:100%;min-height:150px}",""])},424:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#fff"},width:{type:String,default:"40"},height:{type:String,default:"40"}},data:function(){return{isLoading:this.loading}},computed:{styles:function(){return{width:this.width+"px",height:this.height+"px"}}},name:"CircleSpinner"}},425:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"empty",data:function(){return{}},props:{v:{},thumbWidth:{default:"calc(33% - 8px)"},isHover:{default:!1}}}},426:function(t,e,i){var r=i(422);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(417)("d71c6e0a",r,!0,{})},427:function(t,e,i){var r=i(423);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(417)("2afb7a98",r,!0,{})},428:function(t,e,i){function r(t){i(426)}var a=i(101)(i(424),i(429),r,"data-v-48749c38",null);t.exports=a.exports},429:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"sk-fading-circle",style:t.styles},[i("div",{staticClass:"sk-circle1 sk-circle"}),i("div",{staticClass:"sk-circle2 sk-circle"}),i("div",{staticClass:"sk-circle3 sk-circle"}),i("div",{staticClass:"sk-circle4 sk-circle"}),i("div",{staticClass:"sk-circle5 sk-circle"}),i("div",{staticClass:"sk-circle6 sk-circle"}),i("div",{staticClass:"sk-circle7 sk-circle"}),i("div",{staticClass:"sk-circle8 sk-circle"}),i("div",{staticClass:"sk-circle9 sk-circle"}),i("div",{staticClass:"sk-circle10 sk-circle"}),i("div",{staticClass:"sk-circle11 sk-circle"}),i("div",{staticClass:"sk-circle12 sk-circle"})])])},staticRenderFns:[]}},430:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thumb f fc",style:{width:t.thumbWidth}},[i("h2",{staticClass:"f top"},[i("p",{staticClass:"p",on:{click:function(e){return t.$emit("play",t.v._id)}}},[t.isHover?[i("i",{staticClass:"mdi mdi-pause"}),t._v(" stop\n            ")]:[i("i",{staticClass:"mdi mdi-play"}),t._v(" preview\n            ")]],2),i("p",{staticClass:"dur"},[t._v(t._s(t.v.dur))])]),i("router-link",{attrs:{to:"/v/"+t.v._id}},[t.isHover?[i("video",{attrs:{width:"100%",autoplay:""}},[i("source",{attrs:{src:t.v.preview}})])]:i("img",{staticClass:"bg",attrs:{src:t.v.img}})],2),i("h2",{staticClass:"f title"},[t._v(t._s(t.v.title))])],1)},staticRenderFns:[]}},431:function(t,e,i){e=t.exports=i(416)(!1),e.push([t.i,".related[data-v-2bef5d53]{margin-top:20px;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center}",""])},433:function(t,e,i){e=t.exports=i(416)(!1),e.push([t.i,".vid[data-v-81696c6e]{min-height:400px;max-width:960px;margin:0 auto}.vid .vid-wrap[data-v-81696c6e]{min-width:360px;max-width:100%;margin:10px auto}.vid .res[data-v-81696c6e]{position:relative}.vid .res a[data-v-81696c6e]{text-align:center;padding:10px;-ms-flex-positive:1;flex-grow:1}.vid .res #selector[data-v-81696c6e]{background:hsla(0,0%,100%,.3);position:absolute;top:0;left:0;height:100%;transition:transform .3s ease-in}.vid h1[data-v-81696c6e]{padding:5px 10px;background-color:#639;font-size:16px;color:#fff;border-bottom-right-radius:10px;border-bottom-left-radius:10px}.vid .related[data-v-81696c6e]{-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:960px;-ms-flex-pack:center;justify-content:center;margin:15px auto}",""])},436:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(421),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:"related",components:{vidThumb:a.default},props:{v:{}},data:function(){return{list:[],hover:""}},mounted:function(){var t=this;this.$socket.emit("getRelated",this.v._id,function(e,i){e||(t.list=i)})}}},439:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function r(a,s){try{var n=e[a](s),c=n.value}catch(t){return void i(t)}if(!n.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=i(102),c=(i(70),i(428)),o=r(c),d=i(445),l=r(d),u=i(421),f=r(u);e.default={name:"video",components:{loading:o.default,related:l.default,vidThumb:f.default},data:function(){return{relatedHover:"",v:"",player:null,options:{controls:!0,autoplay:!1,preload:"none",fluid:!0,plugins:{}}}},mounted:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$watch("$route.params.id",function(e){t.v=!1,t.getv()},{immediate:!0});case 1:case"end":return e.stop()}},e,t)}))()},computed:s({},(0,n.mapState)(["path","usr"]),{vStyle:function(){var t=parseInt(this.currentRes);return{width:16*t/9+"px",height:t+"px"}},currentRes:function(){return this.usr.currentRes||Object.keys(this.v.links)[2]}}),methods:{getv:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$socket.emit("getv",t.$route.params.id,function(){var e=a(regeneratorRuntime.mark(function e(i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.links){e.next=5;break}return e.next=3,new Promise(function(e){t.$socket.emit("vidError",t.$route.params.id,function(t,i){e()})});case 3:return t.getv(),e.abrupt("return");case 5:t.v=r,t.$forceUpdate(),setTimeout(function(){t.setCurrentRes(t.currentRes)},50);case 8:case"end":return e.stop()}},e,t)}));return function(t,i){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},setCurrentRes:function(t){var e=this;if(this.$socket.emit("setUsr",{currentRes:t}),this.$store.commit("ASSIGN_USR",{currentRes:t}),this.$refs.videoPlayer.player){var i=this.$refs.videoPlayer.player.currentTime();this.$refs.videoPlayer.player.src([{src:this.v.links[this.currentRes],type:"video/mp4"}]),setTimeout(function(){e.$refs.videoPlayer.player.currentTime(i),e.$refs.videoPlayer.player.play()},400);var r=document.querySelector(".res");if(!r)return;var a=Object.keys(this.v.links).indexOf(this.currentRes),s=parseInt(getComputedStyle(r).width)/Object.keys(this.v.links).length;Object.assign(r.querySelector("#selector").style,{transform:"translateX("+s*a+"px)",width:s+"px"})}},playerReadied:function(){this.setCurrentRes(this.currentRes)}},beforeDestroy:function(){this.$refs.videoPlayer.player&&this.$refs.videoPlayer.dispose()},metaInfo:function(){return{}}}},440:function(t,e,i){var r=i(431);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(417)("2d78c00b",r,!0,{})},442:function(t,e,i){var r=i(433);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(417)("7c356ddb",r,!0,{})},445:function(t,e,i){function r(t){i(440)}var a=i(101)(i(436),i(447),r,"data-v-2bef5d53",null);t.exports=a.exports},447:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"related fullw f"},t._l(t.list,function(e){return i("vid-thumb",{key:e._id,attrs:{isHover:t.hover==e._id,v:e},on:{play:function(i){t.hover=e._id}}})}),1)},staticRenderFns:[]}},449:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vid f fc"},[t.v?[t.v.links?i("div",{staticClass:"vid-wrap",style:t.vStyle},[i("video-player",{ref:"videoPlayer",staticClass:"video-player-box vjs-theme-fantasy",attrs:{id:"v",options:t.options,playsinline:!0,customEventName:"customstatechangedeventname"},on:{ready:t.playerReadied}})],1):t._e(),i("div",{staticClass:"f fc",staticStyle:{"max-width":"800px",width:"100%",margin:"0 auto"}},[i("div",{staticClass:"res f fw"},[i("div",{attrs:{id:"selector"}}),t._l(t.v.links,function(e,r){return i("a",{key:r,on:{click:function(e){return t.setCurrentRes(r)}}},[t._v(t._s(r))])})],2),i("h1",[t._v(t._s(t.v.title))])]),i("div",{staticClass:"related f"},t._l(t.v.related,function(e){return i("vid-thumb",{key:e._id,attrs:{isHover:t.relatedHover==e._id,v:e},on:{play:function(i){t.relatedHover=e._id}}})}),1)]:i("div",{staticClass:"f fc",staticStyle:{"min-height":"400px","justify-content":"center"}},[i("loading",{attrs:{width:"120",height:"120"}})],1)],2)},staticRenderFns:[]}}});